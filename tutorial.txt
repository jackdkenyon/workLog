us-east1-b
instance-1
10.142.0.2 

us-east1-b
instance-2
10.142.0.3

Connect to your backend instance
gcloud compute --project \
    "propane-forge-216416" ssh --zone \
    us-east1-b instance-1

Install the backend database
sudo apt-get update
sudo apt-get install mongodb

Run the database
sudo service mongodb stop
sudo mkdir $HOME/db
sudo mongod --dbpath $HOME/db --port \
    80 --fork --logpath \
    /var/tmp/mongodb
sudo mongod --dbpath $HOME/db --port \
    443 --fork --logpath \
    /var/tmp/mongodb

exit






2. Connect to your frontend instance Install and run the web app on your frontend VM
Connect to the instance
gcloud compute --project \
    "propane-forge-216416" ssh --zone \
    us-east1-b instance-2

Install the dependencies
sudo apt-get update
curl -sL \
    https://deb.nodesource.com/setup_6.x \
    | sudo -E bash -
sudo apt-get install git nodejs

Install and run the frontend web app
git clone \
    https://github.com/GoogleCloudPlatform/todomvc-mongodb.git
cd todomvc-mongodb; npm install
sed -i -e 's/8080/80/g' server.js


Start the to-do web application with the following command, entering the internal ip addresses for the instances you created.
sudo nohup nodejs app.js &


mongoose.connect('mongodb://' + argv.be_ip + ':80/my_database');

database
us-east1-b
10.142.0.2

application
us-east1-b
10.142.0.3


1. Connect to your backend instance
gcloud compute --project \
    "worklog-216619" ssh --zone \
    us-east1-b database

Install the backend database
Import the public key used by the package management system
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4
Create a list file for MongoDB
echo "deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/4.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
Reload local package database.¶
sudo apt-get update
Install the MongoDB packages
sudo apt-get install -y mongodb-org

sudo apt-get install mongodb

Run the database
sudo mkdir $HOME/db
sudo mongod --dbpath $HOME/db --port \
    80 --fork --logpath \
    /var/tmp/mongodb
exit

2. Connect to your frontend instance Install and run the web app on your frontend VM
Connect to the instance
gcloud compute --project \
    "worklog-216814" ssh --zone \
    us-east1-b app

Install the dependencies
sudo apt-get update
curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash - sudo 
apt-get install -y nodejs

curl -sL \
    https://deb.nodesource.com/setup_6.x \
    | sudo -E bash -

sudo apt-get install git nodejs

Install and run the frontend web app
git clone \
https://github.com/jackdkenyon/worklog.git
cd todomvc-mongodb; npm install
////sed -i -e 's/8080/80/g' server.js


Start the worklog web application with the following command, entering the internal ip addresses for the instances you created.
sudo nodejs app.js &

echo "deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/3.6 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.6.list

https://peak-catbird-217115.appspot.com